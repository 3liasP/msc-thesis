% generated by Plantuml 1.2025.9       
\definecolor{plantucolor0000}{RGB}{0,0,0}
\definecolor{plantucolor0001}{RGB}{255,255,255}
\begin{tikzpicture}[yscale=-1
,pstyle0/.style={color=black,fill=white,line width=1.0pt}
,pstyle1/.style={color=black,line width=1.0pt}
,pstyle2/.style={color=black,fill=black,line width=1.0pt}
,pstyle3/.style={color=black,line width=1.0pt,dash pattern=on 7.0pt off 7.0pt}
]
\node at (234.395pt,15pt)[below right,color=black,inner sep=0]{\textbf{Retrieval-Augmented Generation (RAG) System Architecture}};
\draw[pstyle0] (13.5pt,42pt) -- (80.69pt,42pt) arc(270:360:3.75pt)  -- (90.19pt,58pt) -- (623.5pt,58pt) arc(270:360:2.5pt)  -- (626pt,536.5pt) arc(0:90:2.5pt)  -- (13.5pt,539pt) arc(90:180:2.5pt)  -- (11pt,44.5pt) arc(180:270:2.5pt) ;
\draw[pstyle1] (11pt,58pt) -- (90.19pt,58pt);
\node at (15pt,44pt)[below right,color=black,inner sep=0]{\textbf{RAG System}};
\draw[pstyle0] (346pt,260pt) arc (180:270:5pt) -- (351pt,255pt) -- (589pt,255pt) arc (270:360:5pt) -- (594pt,260pt) -- (594pt,341pt) arc (0:90:5pt) -- (589pt,346pt) -- (351pt,346pt) arc (90:180:5pt) -- (346pt,341pt) -- cycle;
\node at (446.335pt,257pt)[below right,color=black,inner sep=0]{\textbf{Retriever}};
\draw[pstyle0] (346pt,421pt) arc (180:270:5pt) -- (351pt,416pt) -- (489pt,416pt) arc (270:360:5pt) -- (494pt,421pt) -- (494pt,502pt) arc (0:90:5pt) -- (489pt,507pt) -- (351pt,507pt) arc (90:180:5pt) -- (346pt,502pt) -- cycle;
\node at (394.37pt,418pt)[below right,color=black,inner sep=0]{\textbf{Generator}};
\draw[pstyle0] (43pt,97pt) ..controls (43pt,87pt) and (149.5pt,87pt) .. (149.5pt,87pt) ..controls (149.5pt,87pt) and (256pt,87pt) .. (256pt,97pt) -- (256pt,336pt) ..controls (256pt,346pt) and (149.5pt,346pt) .. (149.5pt,346pt) ..controls (149.5pt,346pt) and (43pt,346pt) .. (43pt,336pt) -- (43pt,97pt);
\draw[pstyle1] (43pt,97pt) ..controls (43pt,107pt) and (149.5pt,107pt) .. (149.5pt,107pt) ..controls (149.5pt,107pt) and (256pt,107pt) .. (256pt,97pt);
\node at (108.29pt,109pt)[below right,color=black,inner sep=0]{\textbf{Knowledge Base}};
\node at (82.13pt,119pt)[below right,color=black,inner sep=0]{\textbf{(Non-parametric Memory)}};
\draw[pstyle0] (225.5pt,468pt) arc (180:270:20pt) -- (245.5pt,448pt) -- (286.82pt,448pt) arc (270:360:20pt) -- (306.82pt,468pt) -- (306.82pt,468pt) arc (0:90:20pt) -- (286.82pt,488pt) -- (245.5pt,488pt) arc (90:180:20pt) -- (225.5pt,468pt) -- cycle;
\node at (238.91pt,458pt)[below right,color=black,inner sep=0]{Vector Store};
\node at (235.5pt,468pt)[below right,color=black,inner sep=0]{(Embeddings)};
\draw[pstyle0] (484pt,297pt) arc (180:270:5pt) -- (489pt,292pt) -- (565.32pt,292pt) arc (270:360:5pt) -- (570.32pt,297pt) -- (570.32pt,317pt) arc (0:90:5pt) -- (565.32pt,322pt) -- (489pt,322pt) arc (90:180:5pt) -- (484pt,317pt) -- cycle;
\node at (494pt,302pt)[below right,color=black,inner sep=0]{Query Encoder};
\draw[pstyle0] (378.5pt,297pt) arc (180:270:5pt) -- (383.5pt,292pt) -- (468.29pt,292pt) arc (270:360:5pt) -- (473.29pt,297pt) -- (473.29pt,317pt) arc (0:90:5pt) -- (468.29pt,322pt) -- (383.5pt,322pt) arc (90:180:5pt) -- (378.5pt,317pt) -- cycle;
\node at (388.5pt,302pt)[below right,color=black,inner sep=0]{Similarity Search};
\draw[pstyle0] (378pt,458pt) arc (180:270:5pt) -- (383pt,453pt) -- (465.37pt,453pt) arc (270:360:5pt) -- (470.37pt,458pt) -- (470.37pt,478pt) arc (0:90:5pt) -- (465.37pt,483pt) -- (383pt,483pt) arc (90:180:5pt) -- (378pt,478pt) -- cycle;
\node at (388pt,463pt)[below right,color=black,inner sep=0]{Language Model};
\draw[pstyle0] (67.5pt,154pt) arc (180:270:5pt) -- (72.5pt,149pt) -- (135.69pt,149pt) arc (270:360:5pt) -- (140.69pt,154pt) -- (140.69pt,174pt) arc (0:90:5pt) -- (135.69pt,179pt) -- (72.5pt,179pt) arc (90:180:5pt) -- (67.5pt,174pt) -- cycle;
\node at (77.5pt,159pt)[below right,color=black,inner sep=0]{Document 1};
\draw[pstyle0] (150.5pt,154pt) arc (180:270:5pt) -- (155.5pt,149pt) -- (218.69pt,149pt) arc (270:360:5pt) -- (223.69pt,154pt) -- (223.69pt,174pt) arc (0:90:5pt) -- (218.69pt,179pt) -- (155.5pt,179pt) arc (90:180:5pt) -- (150.5pt,174pt) -- cycle;
\node at (160.5pt,159pt)[below right,color=black,inner sep=0]{Document 2};
\draw[pstyle0] (67.5pt,297pt) arc (180:270:5pt) -- (72.5pt,292pt) -- (135.69pt,292pt) arc (270:360:5pt) -- (140.69pt,297pt) -- (140.69pt,317pt) arc (0:90:5pt) -- (135.69pt,322pt) -- (72.5pt,322pt) arc (90:180:5pt) -- (67.5pt,317pt) -- cycle;
\node at (77.5pt,302pt)[below right,color=black,inner sep=0]{Document 3};
\draw[pstyle0] (151pt,297pt) arc (180:270:5pt) -- (156pt,292pt) -- (174.34pt,292pt) arc (270:360:5pt) -- (179.34pt,297pt) -- (179.34pt,317pt) arc (0:90:5pt) -- (174.34pt,322pt) -- (156pt,322pt) arc (90:180:5pt) -- (151pt,317pt) -- cycle;
\node at (161pt,302pt)[below right,color=black,inner sep=0]{...};
\draw[pstyle0] (441pt,596pt) ellipse (8pt and 8pt);
\draw[pstyle1] (441pt,604pt) -- (441pt,631pt)(428pt,612pt) -- (454pt,612pt)(441pt,631pt) -- (428pt,646pt)(441pt,631pt) -- (454pt,646pt);
\node at (431.1pt,648pt)[below right,color=black,inner sep=0]{User};
\draw[pstyle0] (642.5pt,129pt) -- (642.5pt,199pt) -- (781.85pt,199pt) -- (781.85pt,139pt) -- (771.85pt,129pt) -- (642.5pt,129pt);
\draw[pstyle0] (771.85pt,129pt) -- (771.85pt,139pt) -- (781.85pt,139pt) -- (771.85pt,129pt);
\node at (649.355pt,134pt)[below right,color=black,inner sep=0]{External knowledge source};
\node at (648.5pt,144pt)[below right,color=black,inner sep=0]{(e.g., PLM documentation,};
\node at (651.715pt,154pt)[below right,color=black,inner sep=0]{technical manuals, SOPs)};
\node at (706.01pt,164pt)[below right,color=black,inner sep=0]{~};
\node at (652.285pt,174pt)[below right,color=black,inner sep=0]{Easily updatable without};
\node at (671.39pt,184pt)[below right,color=black,inner sep=0]{model retraining};
\draw[pstyle0] (642pt,438pt) -- (642pt,498pt) -- (784.2pt,498pt) -- (784.2pt,448pt) -- (774.2pt,438pt) -- (642pt,438pt);
\draw[pstyle0] (774.2pt,438pt) -- (774.2pt,448pt) -- (784.2pt,448pt) -- (774.2pt,438pt);
\node at (664.74pt,443pt)[below right,color=black,inner sep=0]{Parametric Memory};
\node at (653.27pt,453pt)[below right,color=black,inner sep=0]{(Neural network weights)};
\node at (706.935pt,463pt)[below right,color=black,inner sep=0]{~};
\node at (649.805pt,473pt)[below right,color=black,inner sep=0]{Conditions output on both};
\node at (648pt,483pt)[below right,color=black,inner sep=0]{query and retrieved content};
\draw[pstyle1] (455.15pt,601.08pt) ..controls (464.23pt,586.68pt) and (475.19pt,566.56pt) .. (480pt,547pt) ..controls (495.6pt,483.56pt) and (509.9pt,458.09pt) .. (480pt,400pt) ..controls (469.5pt,379.6pt) and (459.41pt,378.23pt) .. (438pt,370pt) ..controls (423.39pt,364.38pt) and (379.82pt,372.27pt) .. (368pt,362pt) ..controls (363.4675pt,358.06pt) and (360.3094pt,352.8613pt) .. (358.1258pt,347.2445pt) ..controls (357.9893pt,346.8935pt) and (359.9098pt,352.1786pt) .. (359.7809pt,351.8245pt);
\draw[pstyle2] (357.7277pt,346.1867pt) -- (357.0489pt,356.0121pt) -- (359.4387pt,350.8848pt) -- (364.566pt,353.2746pt) -- (357.7277pt,346.1867pt) -- cycle;
\node at (498pt,463pt)[below right,color=black,inner sep=0]{User Query};
\draw[pstyle1] (357.5931pt,346.2022pt) ..controls (357.5583pt,346.3803pt) and (357.5223pt,346.558pt) .. (357.4853pt,346.7355pt) ..controls (356.3006pt,352.4138pt) and (354.0025pt,357.765pt) .. (350pt,362pt) ..controls (331.22pt,381.87pt) and (309.3pt,351.68pt) .. (289pt,370pt) ..controls (267.29pt,389.6pt) and (264.1066pt,419.5911pt) .. (264.5266pt,441.8011pt);
\draw[pstyle2] (264.64pt,447.8pt) -- (268.4691pt,438.726pt) -- (264.5455pt,442.8009pt) -- (260.4706pt,438.8772pt) -- (264.64pt,447.8pt) -- cycle;
\node at (290pt,371pt)[below right,color=black,inner sep=0]{Search similar};
\node at (295.165pt,381pt)[below right,color=black,inner sep=0]{embeddings};
\draw[pstyle1] (264.86pt,447.93pt) ..controls (263.8825pt,431.5025pt) and (262.355pt,405.8544pt) .. (260.6098pt,376.5614pt) ..controls (259.7373pt,361.9149pt) and (258.8103pt,346.3572pt) .. (257.8704pt,330.5853pt) ..controls (257.4005pt,322.6993pt) and (256.9273pt,314.7598pt) .. (256.4562pt,306.8538pt) ..controls (256.3384pt,304.8773pt) and (256.2207pt,302.903pt) .. (256.1032pt,300.932pt) ..controls (256.0739pt,300.4393pt) and (256.4015pt,305.9361pt) .. (256.3721pt,305.4439pt);
\draw[pstyle2] (256.0152pt,299.4545pt) -- (252.5577pt,308.6765pt) -- (256.3126pt,304.4456pt) -- (260.5435pt,308.2006pt) -- (256.0152pt,299.4545pt) -- cycle;
\node at (260pt,297pt)[below right,color=black,inner sep=0]{Retrieve top-k};
\node at (267.97pt,307pt)[below right,color=black,inner sep=0]{documents};
\draw[pstyle1] (256.0342pt,167.9862pt) ..controls (257.5799pt,168.5974pt) and (259.3164pt,169.3023pt) .. (261.215pt,170.1008pt) ..controls (268.8094pt,173.2947pt) and (278.9975pt,177.9856pt) .. (289.9425pt,184.1638pt) ..controls (311.8325pt,196.52pt) and (336.75pt,214.825pt) .. (350pt,239pt) ..controls (351.7363pt,242.1675pt) and (353.1106pt,245.5503pt) .. (354.1853pt,249.0498pt) ..controls (354.7227pt,250.7996pt) and (355.1851pt,252.5786pt) .. (355.5804pt,254.3744pt) ..controls (355.6051pt,254.4866pt) and (354.3672pt,248.7332pt) .. (354.3913pt,248.8456pt);
\draw[pstyle2] (355.6537pt,254.7113pt) -- (357.6706pt,245.0711pt) -- (354.6017pt,249.8232pt) -- (349.8497pt,246.7543pt) -- (355.6537pt,254.7113pt) -- cycle;
\node at (348.485pt,210pt)[below right,color=black,inner sep=0]{Retrieved};
\node at (345pt,220pt)[below right,color=black,inner sep=0]{Documents};
\draw[pstyle1] (354pt,346.0994pt) ..controls (354pt,350.2791pt) and (354pt,354.6705pt) .. (354pt,359.2031pt) ..controls (354pt,368.2683pt) and (354pt,377.8981pt) .. (354pt,387.5275pt) ..controls (354pt,397.1569pt) and (354pt,400.7858pt) .. (354pt,409.8491pt);
\draw[pstyle2] (354pt,415.8491pt) -- (358pt,406.8491pt) -- (354pt,410.8491pt) -- (350pt,406.8491pt) -- (354pt,415.8491pt) -- cycle;
\node at (376.035pt,371pt)[below right,color=black,inner sep=0]{Query +};
\node at (355pt,381.1pt)[below right,color=black,inner sep=0]{Retrieved Context};
\draw[pstyle1] (356.2418pt,507.0584pt) ..controls (356.2607pt,507.1866pt) and (356.2798pt,507.3149pt) .. (356.299pt,507.4433pt) ..controls (356.3373pt,507.7002pt) and (356.3763pt,507.9575pt) .. (356.4159pt,508.2154pt) ..controls (356.4951pt,508.731pt) and (356.5766pt,509.2485pt) .. (356.6607pt,509.7676pt) ..controls (357.3333pt,513.9206pt) and (358.1653pt,518.1785pt) .. (359.1931pt,522.4311pt) ..controls (361.2488pt,530.9363pt) and (364.0875pt,539.42pt) .. (368pt,547pt) ..controls (382.2pt,574.52pt) and (405.232pt,594.8677pt) .. (422.132pt,607.7777pt);
\draw[pstyle2] (426.9pt,611.42pt) -- (422.1762pt,602.7779pt) -- (422.9267pt,608.3848pt) -- (417.3198pt,609.1352pt) -- (426.9pt,611.42pt) -- cycle;
\node at (388pt,556pt)[below right,color=black,inner sep=0]{Generated};
\node at (390.29pt,566pt)[below right,color=black,inner sep=0]{Response};
\draw[pstyle3] (256.1422pt,164pt) ..controls (256.655pt,164pt) and (257.1678pt,164pt) .. (257.6806pt,164pt) ..controls (258.7062pt,164pt) and (259.7319pt,164pt) .. (260.7575pt,164pt) ..controls (264.86pt,164pt) and (268.9625pt,164pt) .. (273.065pt,164pt) ..controls (281.27pt,164pt) and (289.475pt,164pt) .. (297.68pt,164pt) ..controls (314.09pt,164pt) and (330.5pt,164pt) .. (346.91pt,164pt) ..controls (379.73pt,164pt) and (412.55pt,164pt) .. (445.37pt,164pt) ..controls (511.01pt,164pt) and (576.65pt,164pt) .. (642.29pt,164pt);
\draw[pstyle3] (353.8263pt,415.7945pt) ..controls (353.8554pt,415.6501pt) and (353.8848pt,415.5058pt) .. (353.9145pt,415.3616pt) ..controls (354.0335pt,414.7845pt) and (354.1579pt,414.2084pt) .. (354.2879pt,413.6334pt) ..controls (354.548pt,412.4835pt) and (354.8305pt,411.3384pt) .. (355.137pt,410.2007pt) ..controls (355.75pt,407.9255pt) and (356.4588pt,405.6802pt) .. (357.2753pt,403.4863pt) ..controls (360.5413pt,394.7106pt) and (365.53pt,386.7575pt) .. (373pt,381pt) ..controls (408.9pt,353.32pt) and (533.49pt,368.27pt) .. (577pt,381pt) ..controls (614.93pt,392.09pt) and (652.34pt,417.36pt) .. (678.29pt,437.82pt);
\end{tikzpicture}
